---
title: Secondary Storage
description: Using secondary storage with BetterAuth
---

Secondary storage in BetterAuth allows you to use key-value stores for managing session data, rate limiting counters, etc.

## Purpose

Secondary storage offloads certain data from your primary database:

1. Improves performance for frequent, simple operations
2. Scales well for high-volume, low-complexity data
3. Separates temporary data from core application data

## Implementation

To use secondary storage, implement the `SecondaryStorage` interface:

```typescript
interface SecondaryStorage {
	get: (key: string) => Promise<string | null>
	set: (
		key: string,
		value: string,
		ttl?: number,
	) => Promise<void>;
	delete: (key: string) => Promise<void>;
}
```

Then, provide your implementation to the `betterAuth` function:

```typescript
betterAuth({
	// ... other options
	secondaryStorage: {
		// Your implementation here
	}
})
```

## Example: Redis Implementation

Here's a basic example using Redis:

```typescript
import { createClient } from "redis";
import { betterAuth } from "better-auth";

const redis = createClient();

export const auth = betterAuth({
	// ... other options
	secondaryStorage: {
		get: async (key) => await redis.get(key),
		set: async (key, value, ttl) => {
			if (ttl) await redis.set(key, value, { EX: ttl });
			else await redis.set(key, value);
		},
		delete: async (key) => await redis.del(key),
	}
});
```

This implementation allows BetterAuth to use Redis for storing session data and rate limiting counters.